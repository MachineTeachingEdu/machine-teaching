{% extends "questions/base.html" %}
{% load static %}
{% block header %}
<!-- Custom styles for this template -->
<link rel="stylesheet" type="text/css" href="{% static 'vendor/codemirror-5.40.0/lib/codemirror.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'vendor/codemirror-5.40.0/theme/paraiso-dark.css' %}" />
{% endblock %}
{% block content %}
<!-- Problem statement -->
<div class="problem" {% if problem.question_type == "M" or "T" %} style="max-width: 700px; margin-left: auto; margin-right: auto" {% endif %}>
    <h2>{{ problem.title }}</h2>
    <p>
        {{ problem.content|linebreaks }}
    </p>
</div>

{% if log.problem.question_type == "C" %}
<!-- Code -->
<div class="code">
    <form>
        <textarea id="code" cols="80" rows="10">{{log.solution}}</textarea>
        <div id="result">
          	{% if log.outcome == "P" %}
            <span class="correct" style="margin-top: 30px;">✓</span>
            {% else %}
            <div class="wrong" style=" margin-top: 30px;">X</div> 
            {% endif %}
        </div>
    </form>
</div>

{% elif log.problem.question_type == "M" %}
<!-- Multiple choice -->
<div class="multiple-c"style="padding-top: 70px;">
    <form>
        {% for item in options %}
        <div class="option">
            <input type="radio" id="{{item}}" disabled {% if item == log.solution %} checked {% endif %}>
            <label for="{{item}}">
                <span class="checkmark"></span>
                <span class="item">{{item|linebreaks}}</span>
                <div class="result" id="result_{{item}}">
                	{% if item == log.solution %}{% if item == solution %}
                	<div class="correct">✓</div>
                	{% else %}
                	<div class="wrong">X</div> 
                	{% endif %}{% endif %}
                </div>
            </label>
        </div>
        {% endfor %}
    </form>
</div>


{% elif log.problem.question_type == "T" %}
<!-- Textbox -->
<div class="textbox" style="padding: 20px;">
    <form onkeydown="return event.key != 'Enter';">
            <input id="ans" id="text" value="{{log.solution}}" disabled style="margin: 0;">
            <div id="result">
            	{% if log.outcome == "P" %}
                <span class="correct" style="margin-bottom: 20px; margin-top: 20px;">✓</span>
                {% else %}
                <div class="wrong" style="margin-bottom: 20px; margin-top: 20px;">X</div> 
                {% endif %}
            </div>
    </form>
</div>

{% endif %}

{% endblock %}

{% block javascript %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
<script src="http://www.skulpt.org/static/skulpt.min.js" type="text/javascript"></script>
<script src="http://www.skulpt.org/static/skulpt-stdlib.js" type="text/javascript"></script>
<script src="{% static 'vendor/codemirror-5.40.0/lib/codemirror.js' %}"></script>
<script src="{% static 'vendor/codemirror-5.40.0/mode/python/python.js' %}"></script>

<script src="{% static 'js/sculpt.js' %}"></script>
{% endblock %}
