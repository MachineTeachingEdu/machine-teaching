{% with id=widget.attrs.id %}
    <ul{% if id %} id="{{ id }}"{% endif %}{% if widget.attrs.class %} class="{{ widget.attrs.class }}"{% endif %} style="list-style: none outside none;">
        <table style="width:60%">
        {% for group, options, index in widget.optgroups %}
            {% if group %}
                <li>{{ group }}
                    <ul{% if id %} id="{{ id }}_{{ index }}"{% endif %}>
            {% endif %}
            {% for option in options %}
                {% if index|divisibleby:"3"  %}
                    <tr>
                {% endif %}
                <td><li>{% include option.template_name with widget=option %}</li></td>
                {% if index|add:"1"|divisibleby:"3"  %}
                    </tr>
                {% endif %}
            {% endfor %}
            {% if group %}
              </ul></li>
              {% endif %}
        {% endfor %}
        </table>
    </ul>
{% endwith %}
